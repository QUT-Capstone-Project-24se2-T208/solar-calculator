<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Solar Calculator - Assistive Mode</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
  <link rel="stylesheet" href="css/header-footer.css" />
  <link rel="stylesheet" href="css/layout.css" />
  <link rel="stylesheet" href="css/quote-request.css" />
  <link rel="stylesheet" href="css/assistive-calculator.css" />
</head>

<body>
  <!-- Header Placeholder -->
  <div id="header-placeholder"></div>

  <!-- Loading Overlay -->
  <div id="loading-overlay" style="display: none;">
    <div class="spinner-container">
      <div class="spinner"></div>
      <p id="loading-message">Calculating...</p>
    </div>
  </div>

  <!-- Title Bar -->
  <div class="title">
    <h1>Solar Calculator - Assistive</h1>
    <p class="subtitle">Find the right solar system for your home</p>
    <div class="audio-controls">
      <div class="audio-controls-header">
        <i class="fas fa-headphones"></i>
        <span id="voice-guide-title">Voice Guide Available</span>
      </div>
      <div class="audio-controls-message">
        <span id="voice-guide-message">Each step has voice instructions to help you</span>
      </div>
      <div class="audio-buttons">
        <button class="audio-button" id="listen-button">
          <i class="fas fa-volume-up"></i> <span id="listen-text">Listen to Instructions</span>
        </button>
        <button class="audio-button" id="stop-audio-button">
          <i class="fas fa-stop"></i> <span id="stop-text">Stop Audio</span>
        </button>
      </div>
    </div>
    <!-- Language Selector -->
    <div class="language-buttons">
      <button class="lang-btn active" data-lang="en">English</button>
      <button class="lang-btn" data-lang="tok">Tok Pisin</button>
    </div>
  </div>

  <!-- Home Button -->
  <div class="home-button-container">
    <a href="index.html" class="home-button">
      <i class="fas fa-home"></i> <span>Back to Home</span>
    </a>
  </div>

  <!-- Tutorial Button -->
  <button class="open-tutorial-btn" id="openTutorialBtn">
    <i class="fas fa-play-circle"></i>
  </button>

  <!-- Video Tutorial Popup -->
  <div class="tutorial-overlay simple-mode" id="tutorialOverlay">
    <div class="tutorial-container">
      <div class="tutorial-header">
        <h3>How to Use the Assistive Calculator</h3>
        <button class="tutorial-close" id="closeTutorialBtn">&times;</button>
      </div>
      <div class="tutorial-content">
        <!-- Replace with actual YouTube video ID -->
        <iframe id="tutorialVideo" src="about:blank" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </div>
      <div class="tutorial-footer">
        <div class="checkbox-container">
          <input type="checkbox" id="dontShowAgain">
          <label for="dontShowAgain">Don't show this tutorial again</label>
        </div>
        <button class="tutorial-button" id="gotItBtn">
          <i class="fas fa-check"></i> Got it!
        </button>
      </div>
    </div>
  </div>

  <!-- Mode Selector -->
  <div class="mode-switch-container">
    <div class="mode-switch">
      <div class="mode-option active" data-mode="assistive">
        <i class="fas fa-smile"></i> <span>Assistive Mode</span>
      </div>
      <div class="mode-option" data-mode="standard">
        <i class="fas fa-solar-panel"></i> <span>Standard Mode</span>
      </div>
      <div class="mode-option" data-mode="advanced">
        <i class="fas fa-chart-line"></i> <span>Advanced Mode</span>
      </div>
      <div class="mode-slider"></div>
    </div>
  </div>

  <!-- Main Calculator Container -->
  <div class="main-container">
    <!-- Step Container -->
    <div class="step-container">
      <!-- Step Indicator -->
      <div class="step-indicator">
        <div class="step active" data-step="1">
          <div class="step-icon"><i class="fas fa-home"></i></div>
          <div id="step1-label">1. Select Home Type</div>
          <button class="step-audio-btn" data-audio="home-audio" title="Listen to instructions for this step">
            <i class="fas fa-volume-up"></i>
            <span id="step1-voice">Step 1: Home Type</span>
          </button>
        </div>
        <div class="step" data-step="2">
          <div class="step-icon"><i class="fas fa-plug"></i></div>
          <div id="step2-label">2. Select Appliances</div>
          <button class="step-audio-btn" data-audio="appliances-audio" title="Listen to instructions for this step">
            <i class="fas fa-volume-up"></i>
            <span id="step2-voice">Step 2: Appliances</span>
          </button>
        </div>
        <div class="step" data-step="3">
          <div class="step-icon"><i class="fas fa-solar-panel"></i></div>
          <div id="step3-label">3. Get Results</div>
          <button class="step-audio-btn" data-audio="results-audio" title="Listen to instructions for this step">
            <i class="fas fa-volume-up"></i>
            <span id="step3-voice">Step 3: Results</span>
          </button>
        </div>
      </div>

      <!-- Step 1: Home Type -->
      <div class="step-content active" id="step-1">
        <h2 class="content-title">
          <i class="fas fa-home"></i> <span id="home-type-question">What type of home do you have?</span>
        </h2>
        <p class="content-subtitle" id="home-type-subtitle">Select the option that best matches your home</p>

        <div class="home-type-options">
          <div class="home-option" data-usage="30" data-home-type="bedroom1">
            <div class="home-icon"><i class="fas fa-bed"></i></div>
            <div class="home-text">
              <div class="home-label" id="bedroom1-label">1 Bedroom</div>
              <div class="home-details">Small Home</div>
            </div>
          </div>
          <div class="home-option" data-usage="50" data-home-type="bedroom2">
            <div class="home-icon"><i class="fas fa-bed"></i></div>
            <div class="home-text">
              <div class="home-label" id="bedroom2-label">2 Bedrooms</div>
              <div class="home-details">Medium Home</div>
            </div>
          </div>
          <div class="home-option" data-usage="70" data-home-type="bedroom3">
            <div class="home-icon"><i class="fas fa-bed"></i></div>
            <div class="home-text">
              <div class="home-label" id="bedroom3-label">3 Bedrooms</div>
              <div class="home-details">Medium Home</div>
            </div>
          </div>
          <div class="home-option" data-usage="90" data-home-type="bedroom4">
            <div class="home-icon"><i class="fas fa-building"></i></div>
            <div class="home-text">
              <div class="home-label" id="bedroom4-label">4+ Bedrooms</div>
              <div class="home-details">Large Home</div>
            </div>
          </div>
        </div>

        <h2 class="content-title">
          <i class="fas fa-sun"></i> <span id="sunlight-question">How much sunlight do you get?</span>
        </h2>

        <div class="sunlight-options">
          <div class="sunlight-option" data-sun="3">
            <div class="sunlight-icon">
              <i class="fas fa-cloud fa-2x"></i>
            </div>
            <div class="sunlight-text">
              <div class="sunlight-label" id="less-sun-label">Less Sun</div>
              <div class="sunlight-details">Cloudy most days</div>
            </div>
          </div>
          <div class="sunlight-option" data-sun="5">
            <div class="sunlight-icon">
              <i class="fas fa-cloud-sun fa-2x"></i>
            </div>
            <div class="sunlight-text">
              <div class="sunlight-label" id="average-sun-label">Average Sun</div>
              <div class="sunlight-details">Mix of sun and clouds</div>
            </div>
          </div>
          <div class="sunlight-option" data-sun="7">
            <div class="sunlight-icon">
              <i class="fas fa-sun fa-2x"></i>
            </div>
            <div class="sunlight-text">
              <div class="sunlight-label" id="more-sun-label">More Sun</div>
              <div class="sunlight-details">Sunny most days</div>
            </div>
          </div>
        </div>
        

        <h2 class="content-title">
          <i class="fas fa-battery-half"></i> <span id="backup-question">How long should backup power last?</span>
        </h2>

        <div class="backup-options">
          <div class="backup-option" data-backup="0.5">
            <div class="backup-icon">
              <i class="fas fa-hourglass-half fa-2x"></i>
            </div>
            <div class="backup-text">
              <div class="backup-label" id="half-day-label">Half Day</div>
              <div class="backup-details">12 hours</div>
            </div>
          </div>
          <div class="backup-option" data-backup="1">
            <div class="backup-icon">
              <i class="fas fa-clock fa-2x"></i>
            </div>
            <div class="backup-text">
              <div class="backup-label" id="one-day-label">1 Day</div>
              <div class="backup-details">24 hours</div>
            </div>
          </div>
          <div class="backup-option" data-backup="2">
            <div class="backup-icon">
              <i class="fas fa-stopwatch fa-2x"></i>
            </div>
            <div class="backup-text">
              <div class="backup-label" id="two-days-label">2 Days</div>
              <div class="backup-details">48 hours</div>
            </div>
          </div>
        </div>
        
        

        <div class="navigation-buttons">
          <div></div> <!-- Empty div for spacing -->
          <button class="nav-button next-button" id="to-step-2">
            <span id="next-button-text">Next</span> <i class="fas fa-arrow-right"></i>
          </button>
        </div>
      </div>

      <!-- Step 2: Appliance Selection -->
      <div class="step-content" id="step-2">
        <h2 class="content-title">
          <i class="fas fa-plug"></i> <span id="appliances-title">Select your appliances</span>
        </h2>
        <p class="content-subtitle" id="appliances-subtitle">Tap on the appliances you use regularly</p>

        <div class="appliance-categories">
          <div class="category active" data-category="all">
            <i class="fas fa-border-all"></i> <span id="category-all">All</span>
          </div>
          <div class="category" data-category="lighting">
            <i class="fas fa-lightbulb"></i> <span id="category-lighting">Lights</span>
          </div>
          <div class="category" data-category="kitchen">
            <i class="fas fa-utensils"></i> <span id="category-kitchen">Kitchen</span>
          </div>
          <div class="category" data-category="cooling">
            <i class="fas fa-wind"></i> <span id="category-cooling">Cooling</span>
          </div>
          <div class="category" data-category="entertainment">
            <i class="fas fa-tv"></i> <span id="category-entertainment">Entertainment</span>
          </div>
          <div class="category" data-category="work-leisure">
            <i class="fas fa-briefcase"></i> <span id="category-work-leisure">Work & Leisure</span>
          </div>
          <div class="category" data-category="laundry">
            <i class="fas fa-tint"></i> <span id="category-laundry">Laundry</span>
          </div>
          <div class="category" data-category="general">
            <i class="fas fa-cog"></i> <span id="category-general">General</span>
          </div>
        </div>

        <!-- Energy Consumption Indicator Legend -->
        <div class="energy-indicator-legend">
          <div class="legend-title" id="energy-legend-title">Energy Consumption Guide</div>
          <div class="legend-items">
            <div class="legend-item">
              <div class="legend-color energy-low"></div>
              <div class="legend-text" id="energy-low-text">Low Energy: Efficient appliances</div>
            </div>
            <div class="legend-item">
              <div class="legend-color energy-medium"></div>
              <div class="legend-text" id="energy-medium-text">Medium Energy: Standard consumption</div>
            </div>
            <div class="legend-item">
              <div class="legend-color energy-high"></div>
              <div class="legend-text" id="energy-high-text">High Energy: Power-intensive appliances</div>
            </div>
          </div>
          <button class="legend-toggle" id="legend-toggle-btn">
            <i class="fas fa-lightbulb"></i>
            <span id="legend-toggle-text">Show Energy Guide</span>
          </button>
        </div>

        <!-- Appliance grid will be loaded dynamically from shared component -->
        <div id="appliance-grid-container" class="appliance-grid">
          <!-- Appliances will be loaded here dynamically -->
        </div>

        <div class="navigation-buttons">
          <button class="nav-button back-button" id="to-step-1">
            <i class="fas fa-arrow-left"></i> <span id="back-button-text">Back</span>
          </button>
          <button class="nav-button next-button" id="to-step-3">
            <span id="next-button-text-2">Next</span> <i class="fas fa-arrow-right"></i>
          </button>
        </div>
      </div>

      <!-- Step 3: Results -->
      <div class="step-content" id="step-3">
        <h2 class="content-title">
          <i class="fas fa-check-circle"></i> <span id="results-title">Your Solar Power Results</span>
        </h2>

        <div class="results-container">
          <h3 class="results-title" id="results-subtitle">Here's what you need for your home</h3>
          
          <div class="results-grid">
            <div class="result-card">
              <div class="result-icon-container">
                <img src="assets/solar-panel.png" alt="Solar Panels" class="result-icon">
              </div>
              <div class="result-name" id="result-solar-panels">Solar Panels</div>
              <div class="result-value" id="solar-panel-value">
                <span class="result-value-text">...</span>
              </div>
              <div class="result-description" id="solar-panel-desc">These capture sunlight to power your home</div>
            </div>
            
            <div class="result-card">
              <div class="result-icon-container">
                <img src="assets/battery-capacity.png" alt="Battery" class="result-icon">
              </div>
              <div class="result-name" id="result-battery">Battery</div>
              <div class="result-value" id="battery-value">
                <span class="result-value-text">...</span>
              </div>
              <div class="result-description" id="battery-desc">Stores energy for use when there's no sun</div>
            </div>
            
            <div class="result-card">
              <div class="result-icon-container">
                <img src="assets/inverter.png" alt="System Size" class="result-icon">
              </div>
              <div class="result-name" id="result-system-size">System Size</div>
              <div class="result-value" id="system-size-value">
                <span class="result-value-text">...</span>
              </div>
              <div class="result-description" id="system-size-desc">Powers all your selected appliances</div>
            </div>
          </div>
        </div>

        <div class="selected-appliances">
          <div class="warning-message" id="accuracy-warning">
            <i class="fas fa-exclamation-triangle"></i>
            <span id="warning-text">These estimates may not be exact. Actual energy usage can vary based on specific models and usage patterns.</span>
          </div>
          <div class="total-energy">
            <h3 class="total-title" id="total-title">Total Daily Energy Use:</h3>
            <div class="total-kwh"><span id="total-kwh-value">0</span> kWh</div>
          </div>
          <h3 class="selected-title" id="selected-title">Your Selected Appliances:</h3>
          <div id="selected-appliances-list">
            <!-- Selected appliances will be populated here by JS -->
          </div>
        </div>

        <div class="navigation-buttons">
          <button class="nav-button back-button" id="back-to-step-2">
            <i class="fas fa-arrow-left"></i> <span id="back-button-text-2">Back</span>
          </button>
          <button class="nav-button next-button" id="print-results">
            <i class="fas fa-print"></i> <span id="print-button-text">Print Results</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Help Button -->
  <!-- <button class="help-button" id="help-button">
    <i class="fas fa-question"></i>
  </button> -->

  <!-- Footer Placeholder -->
  <div id="footer-placeholder"></div>

  <!-- Audio Elements for VoiceOver -->
  <audio id="audio-player" src=""></audio>

  <!-- Scripts -->
  <script src="js/layout.js" defer></script>
  <script src="js/appliance.js" defer></script>
  <script src="js/quote-request.js" defer></script>
  <script src="js/assistive-calculator.js"></script>
  
  <!-- Initialize the appliance grid with 'assistive' mode when page loads -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      if (window.AppliancesModule && typeof window.AppliancesModule.loadAppliancesGrid === 'function') {
        window.AppliancesModule.loadAppliancesGrid('assistive', 'appliance-grid-container');
      }
    });
  </script>

  <!-- <div id="quote-request-floating-btn" class="quote-request-floating-btn">
    <i class="fas fa-file-invoice-dollar"></i>
    <span>Request a Quote</span>
  </div>

  <div id="quote-request-modal" class="quote-request-modal">
    <div class="quote-request-overlay"></div>
    <div class="quote-request-container">
      <div class="quote-request-header">
        <h2 id="quote-title">Request a Solar Quote</h2>
        <button class="quote-request-close-btn" id="quote-close-btn">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="quote-request-content">
        <form id="quote-request-form" class="quote-request-form">
          <div class="quote-form-section">
            <h3 id="system-details-title">Your Solar System</h3>
            <div class="system-details-section">
              <div class="system-detail-item">
                <div class="system-detail-icon">
                  <img src="assets/solar-panel.png" alt="Solar Panels">
                </div>
                <div class="system-detail-content">
                  <span class="system-detail-label" id="solar-panels-label">Solar Panels:</span>
                  <span class="system-detail-value" id="quote-solar-panel-value">...</span>
                  <input type="hidden" id="solar-panels" name="solar-panels">
                </div>
              </div>
              
              <div class="system-detail-item">
                <div class="system-detail-icon">
                  <img src="assets/battery-capacity.png" alt="Battery">
                </div>
                <div class="system-detail-content">
                  <span class="system-detail-label" id="battery-label">Battery:</span>
                  <span class="system-detail-value" id="quote-battery-value">...</span>
                  <input type="hidden" id="battery" name="battery">
                </div>
              </div>
              
              <div class="system-detail-item">
                <div class="system-detail-icon">
                  <img src="assets/inverter.png" alt="System Size">
                </div>
                <div class="system-detail-content">
                  <span class="system-detail-label" id="system-size-label">System Size:</span>
                  <span class="system-detail-value" id="quote-system-size-value">...</span>
                  <input type="hidden" id="system-size" name="system-size">
                </div>
              </div>
              
              <div class="system-detail-item">
                <div class="system-detail-icon">
                  <i class="fas fa-bolt"></i>
                </div>
                <div class="system-detail-content">
                  <span class="system-detail-label" id="total-energy-label">Daily Energy:</span>
                  <span class="system-detail-value" id="quote-total-kwh-value">...</span> kWh
                  <input type="hidden" id="daily-energy" name="daily-energy">
                </div>
              </div>
            </div>
          </div>
          
          <div class="quote-form-section">
            <h3 id="personal-details-title">Your Contact Details</h3>
            <div class="form-group">
              <label for="name" id="name-label">Name <span class="required">*</span></label>
              <input type="text" id="name" name="name" required>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="email" id="email-label">Email <span class="required">*</span></label>
                <input type="email" id="email" name="email" required>
              </div>
              
              <div class="form-group">
                <label for="phone" id="phone-label">Phone Number</label>
                <input type="tel" id="phone" name="phone">
              </div>
            </div>
            
            <div class="form-group">
              <label for="address" id="address-label">Installation Address</label>
              <textarea id="address" name="address" rows="2"></textarea>
            </div>
            
            <div class="form-group">
              <label id="contact-preference-label">Preferred Contact Method</label>
              <div class="contact-options">
                <label class="contact-option">
                  <input type="radio" name="contact-method" value="email" checked>
                  <span class="contact-radio"></span>
                  <span id="contact-email">Email</span>
                </label>
                <label class="contact-option">
                  <input type="radio" name="contact-method" value="phone">
                  <span class="contact-radio"></span>
                  <span id="contact-phone">Phone</span>
                </label>
                <label class="contact-option">
                  <input type="radio" name="contact-method" value="sms">
                  <span class="contact-radio"></span>
                  <span id="contact-sms">SMS</span>
                </label>
              </div>
            </div>
            
            <div class="form-group">
              <label id="timeline-label">When are you planning to install?</label>
              <div class="timeline-options">
                <label class="timeline-option">
                  <input type="radio" name="purchase-timeline" value="now" checked>
                  <span class="timeline-radio"></span>
                  <span id="timeline-now">Now</span>
                </label>
                <label class="timeline-option">
                  <input type="radio" name="purchase-timeline" value="3months">
                  <span class="timeline-radio"></span>
                  <span id="timeline-3months">3 Months</span>
                </label>
                <label class="timeline-option">
                  <input type="radio" name="purchase-timeline" value="6months">
                  <span class="timeline-radio"></span>
                  <span id="timeline-6months">6 Months</span>
                </label>
                <label class="timeline-option">
                  <input type="radio" name="purchase-timeline" value="just-looking">
                  <span class="timeline-radio"></span>
                  <span id="timeline-looking">Just Looking</span>
                </label>
              </div>
            </div>
          </div>
          
          <div class="quote-form-section">
            <h3 id="image-upload-title">Upload Images</h3>
            <p class="upload-helper-text" id="image-upload-help">Upload images of your roof or installation area</p>
            
            <div class="image-upload-container">
              <div class="image-upload-box" id="image-upload-box">
                <i class="fas fa-cloud-upload-alt"></i>
                <span id="upload-instruction">Tap to upload or drop images here</span>
                <span class="file-types" id="file-types">(JPG, PNG, up to 5MB each)</span>
                <input type="file" id="image-upload" name="images[]" multiple accept="image/jpeg, image/png" class="file-input">
              </div>
              
              <div class="image-preview-area" id="image-preview-area">
              </div>
            </div>
          </div>
          
          <div class="quote-form-section">
            <h3 id="comments-title">Additional Comments</h3>
            <div class="form-group">
              <textarea id="comments" name="comments" rows="3" placeholder="Any additional information or questions?"></textarea>
            </div>
          </div>
          
          <div class="quote-form-section">
            <div class="consent-checkbox">
              <label class="checkbox-container">
                <input type="checkbox" id="privacy-consent" name="privacy-consent" required>
                <span class="checkmark"></span>
                <span id="privacy-label">I agree to the <a href="#" id="privacy-link">Privacy Policy</a> and consent to being contacted about my solar quote request.</span>
              </label>
            </div>
          </div>
          
          <div class="quote-form-actions">
            <button type="submit" class="submit-button" id="submit-quote">
              <i class="fas fa-paper-plane"></i> <span id="submit-text">Send Quote Request</span>
            </button>
          </div>
        </form>
        
        <div id="quote-success-message" class="quote-success-message" style="display: none;">
          <div class="success-icon">
            <i class="fas fa-check-circle"></i>
          </div>
          <h3 id="success-title">Quote Request Sent!</h3>
          <p id="success-message">Thank you for your request. Our team will contact you soon with a detailed quote for your solar system.</p>
          <button id="close-success-btn" class="close-success-btn">
            <span id="close-text">Close</span>
          </button>
        </div>
      </div>
    </div>
  </div> -->
</body>
</html>